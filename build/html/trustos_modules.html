

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TrustOS &mdash; trustos master documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Track" href="track.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


          
            <a href="index.html" class="icon icon-home"> trustos
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br>
<h1 style="color: white;">TrustOS</h1>
<img style="background:none; margin: auto; width:30%; height:95%;" alt="Telefónica" src="_static/images/telefonica_white.png"/>

<!-- 
<a href="https://github.com/hyperledger/fabric"></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="_static/images/rocketchat_button.png"/></a>
&nbsp;<a href="https://www.youtube.com/playlist?list=PL0MZ85B_96CH7wvtrRzV7SvtRY0sI0DEg"><img style="padding: 0px; margin: auto auto auto auto;" alt="Youtube Channel" src="_static/images/youtube_button.png"/></a> -->


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TrustOS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#login">Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#track">Track</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api-specification">API Specification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#asset">Asset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#post-asset-create">POST -  <code class="docutils literal notranslate"><span class="pre">/asset/create</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-asset-assetid">GET     -   <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-asset-assetid-transactions">GET  -     <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}/transactions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-asset-assetid-transfer">POST     - <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}/transfer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-asset-assetid-update">POST    <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}/update</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-assets">GET   -    <code class="docutils literal notranslate"><span class="pre">/assets</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#trust">Trust</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-trust-assetid">GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/assetId</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-trust-assetid-history">GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/assetId/history</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-trust-assetid-create">POST -  <code class="docutils literal notranslate"><span class="pre">/trust/assetId/create</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-trust-assetid-merkleroot">GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/{assetId}/merkleroot</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-trust-assetid-merkleroot-history">GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/{assetId}/merkleroot/history</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-trust-assetid-register">POST -  <code class="docutils literal notranslate"><span class="pre">/trust/assetId/register</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-trust-assetid-verify">POST   -   <code class="docutils literal notranslate"><span class="pre">/trust/assetId/verify</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#merkleroot">MerkleRoot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#architecture-of-the-project">Architecture of the project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#project-configuration">Project configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-application">Running the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-the-application">Testing the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#errors-management">Errors management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#token">Token</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">API Specification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Token</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#post-token-create">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/create/</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-token-tokenid">GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-token-tokenid-allowance-owner-spender">GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/allowance/{owner}/{spender}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-token-tokenid-approve">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/approve</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-token-tokenid-balance-userid">GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/balance/{userID}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-token-tokenid-transactions">GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transactions</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-token-tokenid-transfer">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transfer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-token-tokenid-transferfrom">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferfrom</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-token-tokenid-transferownership">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferownership</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-token-tokenid-transferblock">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferblock</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-token-tokenid-transferunblock">POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferunblock</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3">Architecture of the project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">Project configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">Running the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">Testing the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">Errors management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#settle">Settle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id8">API Specification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Settle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#post-settlement-create">POST   -   <code class="docutils literal notranslate"><span class="pre">/settlement/create/</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-settlement-settleid">GET   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-settlement-settleid-history">GET   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/history</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-settlement-settleid-settled">GET   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/settled</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-settlement-settleid-update">POST   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/update</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-settlement-settleid-settle">POST  -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/settle</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#post-settlement-settleid-clear">POST  -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/clear</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id10">Architecture of the project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">Project configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">Running the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">Testing the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">Errors management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id">ID</a></li>
<li class="toctree-l1"><a class="reference internal" href="track.html">Track</a></li>
<li class="toctree-l1"><a class="reference internal" href="token.html">Token</a></li>
<li class="toctree-l1"><a class="reference internal" href="settle.html">Settle</a></li>
<li class="toctree-l1"><a class="reference internal" href="id.html">ID</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">trustos</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>TrustOS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/trustos_modules.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trustos">
<h1>TrustOS<a class="headerlink" href="#trustos" title="Permalink to this headline">¶</a></h1>
<p>Why worrying about the low-level complexities of blockchain technology,
and having to worry about building you network when you can leverage
the benefits of the technology without having to know the details of
its operation. Our TrustOS abstracts all the complexity of blockchain
technology implementing the basic operations you need to leverage
the power of blockchain technology.</p>
<p><strong>Table of Contents</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="#trackmodule">Track API</a></p></li>
<li><p><a class="reference external" href="#tokenmodule">Token API</a></p></li>
<li><p><a class="reference external" href="#settlemodule">Settlement API</a></p></li>
<li><p><a class="reference external" href="#idmodule">ID API</a></p></li>
</ul>
<div class="section" id="login">
<h2>Login<a class="headerlink" href="#login" title="Permalink to this headline">¶</a></h2>
<p>In order to use the APIs, you need to have an active user and login to our system. Every API has a login method, which asks for a user and password.</p>
<p>A call to this method will return a JWT token, of this form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoidGVzdCIsImV4cCI6MTU2MDAwMDE5MH0.M4PBSslERUImcOpWgg--N-2ZNW306BzWXTZVJgtdXWE&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Every call to the API, has to be authenticated, so the caller must provide this message as proof of his identity.</p>
<p>Add the following header to your HTTP request in order to authenticate your call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Bearer</span> <span class="n">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span class="o">.</span><span class="n">eyJ1c2VyIjoidGVzdCIsImV4cCI6MTU2MDAwMDE5MH0</span><span class="o">.</span><span class="n">M4PBSslERUImcOpWgg</span><span class="o">--</span><span class="n">N</span><span class="o">-</span><span class="mi">2</span><span class="n">ZNW306BzWXTZVJgtdXWE</span>
</pre></div>
</div>
<p>If you are calling the APIs from Postman, you can set manually the headers (there are examples in the miscelanea/postman folder)</p>
<p>However if you interact graphically with the swagger,  you have to click the button <strong>authorize, on the top right</strong> of the screen.</p>
<p>From there, in the “value” field of ApiKeyAuth, you should write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Bearer</span> <span class="n">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span class="o">.</span><span class="n">eyJ1c2VyIjoidGVzdCIsImV4cCI6MTU2MDAwMDE5MH0</span><span class="o">.</span><span class="n">M4PBSslERUImcOpWgg</span><span class="o">--</span><span class="n">N</span><span class="o">-</span><span class="mi">2</span><span class="n">ZNW306BzWXTZVJgtdXWE</span>
</pre></div>
</div>
<p>You should now see that all the locks in swagger are closed, meaning that you are authenticated!</p>
<p>The test user for this beta version is :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">username</span> <span class="p">:</span> <span class="n">example</span>
<span class="n">password</span> <span class="p">:</span> <span class="n">example</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="track">
<h1>Track<a class="headerlink" href="#track" title="Permalink to this headline">¶</a></h1>
<p>This API is used to create, manage, and export digital assets on the blockchain.</p>
<div class="section" id="api-specification">
<h2>API Specification<a class="headerlink" href="#api-specification" title="Permalink to this headline">¶</a></h2>
<p>An abstraction API with all the asset functionalities</p>
<div class="section" id="asset">
<h3>Asset<a class="headerlink" href="#asset" title="Permalink to this headline">¶</a></h3>
<p>An asset is a digital representation of a real asset in the real world.</p>
<p>Every asset has the following structure:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Unique identifier of the asset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code>   JSON of <strong>inmutable</strong> data. It can have as many field as required</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datetime</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> UNIX date of creation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereumContractAddress</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> The smart contract in Ethereum to manage trust points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Hash of the asset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hftxid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Last asset transaction in Hyperledger Fabric</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lastEthTxId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Last asset transaction in Ethereum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code>   JSON of <strong>mutable</strong> data. It can have as many field as required</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">userOwner</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Owner of the asset</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="s2">&quot;53&quot;</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="s2">&quot;22&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1558009289</span><span class="p">,</span>
    <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;oCZygxQBp5HBVm+SSUCCrgJfV3+CeghOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;0x6d9f4bb3fb67cc451758097c928777aa8adccb6c8a6e59c2c5bc9360208cc8b49&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details> <details>
  <summary><em><strong>Asset methods</strong></em> (Click to expand)</summary><hr class="docutils" />
<div class="section" id="post-asset-create">
<h4>POST -  <code class="docutils literal notranslate"><span class="pre">/asset/create</span></code><a class="headerlink" href="#post-asset-create" title="Permalink to this headline">¶</a></h4>
<p>Ceate a digital asset on a Blockchain.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Unique identifier of the asset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code> JSON of <strong>inmutable</strong> data. It can have as many field as required</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code> JSON of <strong>mutable</strong> data. It can have as many field as required</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;metadata&quot;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;position&quot;</span><span class="o">:</span><span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">23.34</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">24.22</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details> <p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asset</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1559820650</span><span class="p">,</span>
    <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;oCZygxQBp5HBVm+SSUCCrgJfV3+CeghOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">23.34</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">24.22</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details> </div>
<hr class="docutils" />
<div class="section" id="get-asset-assetid">
<h4>GET     -   <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}</span></code><a class="headerlink" href="#get-asset-assetid" title="Permalink to this headline">¶</a></h4>
<p>Get asset from the blockchain identified by assetId</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Unique identifier of the asset</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asset</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1559820650</span><span class="p">,</span>
    <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;oCZygxQBp5HBVm+SSUCCrgJfV3+CeghOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">23.34</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">24.22</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details> </div>
<hr class="docutils" />
<div class="section" id="get-asset-assetid-transactions">
<h4>GET  -     <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}/transactions</span></code><a class="headerlink" href="#get-asset-assetid-transactions" title="Permalink to this headline">¶</a></h4>
<p>Get all transactions for the whole lifecycle of the asset</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Unique identifier of the asset</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">args</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> A list of all transactions</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1559820650</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;oCZygxQBp5HBVm+SSUCCrgJfV3+CeghOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d05&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">23.34</span><span class="p">,</span>
          <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">24.22</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
      <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1559820650</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;zCZygxQBp5HBVm+SSUCCrgJfV3+CegaOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d06&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">98.35</span><span class="p">,</span>
          <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">12.32</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-asset-assetid-transfer">
<h4>POST     - <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}/transfer</span></code><a class="headerlink" href="#post-asset-assetid-transfer" title="Permalink to this headline">¶</a></h4>
<p>Transfer the ownership of the asset. The user has to be the owner of the asset.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Unique identifier of the asset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">destinationId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> The destination owner</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;destinationId&quot;</span><span class="o">:</span> <span class="s2">&quot;bteam&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</details> <p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asset</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1559820650</span><span class="p">,</span>
    <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;oCZygxQBp5HBVm+SSUCCrgJfV3+CeghOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d05&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">23.34</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">24.22</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;bteam&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-asset-assetid-update">
<h4>POST    <code class="docutils literal notranslate"><span class="pre">/asset/{assetId}/update</span></code><a class="headerlink" href="#post-asset-assetid-update" title="Permalink to this headline">¶</a></h4>
<p>Updates the <strong>mutable</strong> (“metadata”) of an asset
<em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Unique identifier of the asset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code> JSON of <strong>mutable</strong> data. It can have as many field as required</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">98.35</span><span class="p">,</span>
      <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">12.32</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details> <p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">asset</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="p">{</span>
      <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;datetime&quot;</span><span class="o">:</span> <span class="mi">1559820650</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99931f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;zCZygxQBp5HBVm+SSUCCrgJfV3+CegaOzV9m+UxDsY8=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;d249f267fd2dd58b6bff9d6780d31f3a04ab3a8c5b340b39ab48aed8fac55d06&quot;</span><span class="p">,</span>
      <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;metadata&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;x&quot;</span><span class="o">:</span> <span class="mf">98.35</span><span class="p">,</span>
          <span class="s2">&quot;y&quot;</span><span class="o">:</span> <span class="o">-</span><span class="mf">12.32</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;userOwner&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details> </div>
<hr class="docutils" />
<div class="section" id="get-assets">
<h4>GET   -    <code class="docutils literal notranslate"><span class="pre">/assets</span></code><a class="headerlink" href="#get-assets" title="Permalink to this headline">¶</a></h4>
<p>Lists all the assets of a user</p>
<p><em>Input</em>
N/A. It returns all the assets which belong to the login user</p>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetList</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;exampleAsset110&quot;</span><span class="p">,</span>
    <span class="s2">&quot;exampleAsset133&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></details> </div>
</div>
<div class="section" id="trust">
<h3>Trust<a class="headerlink" href="#trust" title="Permalink to this headline">¶</a></h3>
<p>Trustpoints are <code class="docutils literal notranslate"><span class="pre">&lt;JSON&gt;</span></code> objects used to export the integrity of the transactions over an asset in a private blockchain such as Hyperledger Fabric, to public blockchains such as Ethereum, in order to provide an extra layer of security.</p>
<p>This is the structure of a trust point:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust point is made</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> Timestamp at which this trust point is made</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereumContractAddress</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> The smart contract in Ethereum to manage trust points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hash</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Hash of the trust point (as a JSON) to verify integrity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">txRoot</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Hash of all transactions in the interval</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hftxid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Last trust transaction in Hyperledger Fabric</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> Timestamp for the previous trust point</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prevHash</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Hash of the previous trust point</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prevhftxid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Hash of the previous transaction (in the blockchain)</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;assetid&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="mi">1557830077</span><span class="p">,</span>
    <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0xeE83b6D6dc84fa0c91A6f99971f6CF29F6B7ea3b&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;3P1HZ+pvbwhogR3tgKng7cWTk6uaHynGKvjqPjpISi0=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;txRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;DGjUiCplVGom99o6bbdIXAIEqNKgVoQGi7rFNwDX+to=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;671e8c065add74a4759167b9f38cf67916f0f26b5e9b1861c2abcb08a57f8a97&quot;</span><span class="p">,</span>
    <span class="s2">&quot;init&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;prevHash&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;prevhftxid&quot;</span><span class="o">:</span> <span class="s2">&quot;0&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
<details>
  <summary><em><strong>Trust methods</strong></em> (Click to expand)</summary><hr class="docutils" />
<div class="section" id="get-trust-assetid">
<h4>GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/assetId</span></code><a class="headerlink" href="#get-trust-assetid" title="Permalink to this headline">¶</a></h4>
<p>Gets the last trust point in the system for a specific asset</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust point is made</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trustpoint</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;assetId&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x1B646bc6C3465Fa8171F7171097A7d8e37b43D6B&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;5c709f206555dbc6a40e37e96aa007a471f706927c8581fb91aef3625413e234&quot;</span><span class="p">,</span>
      <span class="s2">&quot;init&quot;</span><span class="o">:</span> <span class="mi">1567594895</span><span class="p">,</span>
      <span class="s2">&quot;prevHash&quot;</span><span class="o">:</span> <span class="s2">&quot;Ni7JYQG6GSmlEjWoRj2xrfF6ZVFhqBDPzyjk+o/HB2c=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;prevHfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;70c26cfc9aeef3c094b82278b7ed413255f07711366ac2a9da8de7e66b9e53ee&quot;</span><span class="p">,</span>
      <span class="s2">&quot;txRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;TBSNvFDt3tGDhI5I48IRlBh2l+O0X+kjBq7/96Zk/wI=&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-trust-assetid-history">
<h4>GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/assetId/history</span></code><a class="headerlink" href="#get-trust-assetid-history" title="Permalink to this headline">¶</a></h4>
<p>Gets all trust point history in the system for a specific asset</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust point is made</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trustpoint</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;assetId&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="mi">1567594895</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x1B646bc6C3465Fa8171F7171097A7d8e37b43D6B&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;Ni7JYQG6GSmlEjWoRj2xrfF6ZVFhqBDPzyjk+o/HB2c=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;70c26cfc9aeef3c094b82278b7ed413255f07711366ac2a9da8de7e66b9e53ee&quot;</span><span class="p">,</span>
      <span class="s2">&quot;init&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;prevHfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;0&quot;</span><span class="p">,</span>
      <span class="s2">&quot;txRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;oGFYgnxCcPvpa2d6G4vHLs92HQgY2z6S8uwIVM0Qg44=&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;assetId&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x1B646bc6C3465Fa8171F7171097A7d8e37b43D6B&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;5c709f206555dbc6a40e37e96aa007a471f706927c8581fb91aef3625413e234&quot;</span><span class="p">,</span>
      <span class="s2">&quot;init&quot;</span><span class="o">:</span> <span class="mi">1567594895</span><span class="p">,</span>
      <span class="s2">&quot;prevHash&quot;</span><span class="o">:</span> <span class="s2">&quot;Ni7JYQG6GSmlEjWoRj2xrfF6ZVFhqBDPzyjk+o/HB2c=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;prevHfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;70c26cfc9aeef3c094b82278b7ed413255f07711366ac2a9da8de7e66b9e53ee&quot;</span><span class="p">,</span>
      <span class="s2">&quot;txRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;TBSNvFDt3tGDhI5I48IRlBh2l+O0X+kjBq7/96Zk/wI=&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-trust-assetid-create">
<h4>POST -  <code class="docutils literal notranslate"><span class="pre">/trust/assetId/create</span></code><a class="headerlink" href="#post-trust-assetid-create" title="Permalink to this headline">¶</a></h4>
<p>Creates a trust point in the system for a specific asset</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust point is made</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trustpoint</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;assetId&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x1B646bc6C3465Fa8171F7171097A7d8e37b43D6B&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;5c709f206555dbc6a40e37e96aa007a471f706927c8581fb91aef3625413e234&quot;</span><span class="p">,</span>
      <span class="s2">&quot;init&quot;</span><span class="o">:</span> <span class="mi">1567594895</span><span class="p">,</span>
      <span class="s2">&quot;prevHash&quot;</span><span class="o">:</span> <span class="s2">&quot;Ni7JYQG6GSmlEjWoRj2xrfF6ZVFhqBDPzyjk+o/HB2c=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;prevHfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;70c26cfc9aeef3c094b82278b7ed413255f07711366ac2a9da8de7e66b9e53ee&quot;</span><span class="p">,</span>
      <span class="s2">&quot;txRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;TBSNvFDt3tGDhI5I48IRlBh2l+O0X+kjBq7/96Zk/wI=&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-trust-assetid-merkleroot">
<h4>GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/{assetId}/merkleroot</span></code><a class="headerlink" href="#get-trust-assetid-merkleroot" title="Permalink to this headline">¶</a></h4>
<p>Gets the last trust merkle root stored in the system</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust root is stored</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trustroot</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
    <span class="s2">&quot;trustHash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;trustRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;/unY4B8YDNq/+mdO1iL/Ztng+gbxBput2qnjG+LGMqU=&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-trust-assetid-merkleroot-history">
<h4>GET  -   <code class="docutils literal notranslate"><span class="pre">/trust/{assetId}/merkleroot/history</span></code><a class="headerlink" href="#get-trust-assetid-merkleroot-history" title="Permalink to this headline">¶</a></h4>
<p>Gets the trust merkle root history stored in the system</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust root is stored</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trustroot</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1567594895</span><span class="p">,</span>
      <span class="s2">&quot;trustHash&quot;</span><span class="o">:</span> <span class="s2">&quot;Ni7JYQG6GSmlEjWoRj2xrfF6ZVFhqBDPzyjk+o/HB2c=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;trustRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;Vz3ZFr+wTOt0FNbcfhEr+Ziy/Y/jsfNGz693KcqYa5E=&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
      <span class="s2">&quot;trustHash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;trustRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;/unY4B8YDNq/+mdO1iL/Ztng+gbxBput2qnjG+LGMqU=&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-trust-assetid-register">
<h4>POST -  <code class="docutils literal notranslate"><span class="pre">/trust/assetId/register</span></code><a class="headerlink" href="#post-trust-assetid-register" title="Permalink to this headline">¶</a></h4>
<p>Creates a trust point if does not exist and registers it in Ethereum. If the trust point already exists registers it in Ethereum.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust point is made</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trustpoint</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span>  <span class="p">{</span>
      <span class="s2">&quot;assetId&quot;</span><span class="o">:</span> <span class="s2">&quot;exampleAsset&quot;</span><span class="p">,</span>
      <span class="s2">&quot;end&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
      <span class="s2">&quot;ethereumContractAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x1B646bc6C3465Fa8171F7171097A7d8e37b43D6B&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;hfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;5c709f206555dbc6a40e37e96aa007a471f706927c8581fb91aef3625413e234&quot;</span><span class="p">,</span>
      <span class="s2">&quot;init&quot;</span><span class="o">:</span> <span class="mi">1567594895</span><span class="p">,</span>
      <span class="s2">&quot;prevHash&quot;</span><span class="o">:</span> <span class="s2">&quot;Ni7JYQG6GSmlEjWoRj2xrfF6ZVFhqBDPzyjk+o/HB2c=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;prevHfTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;70c26cfc9aeef3c094b82278b7ed413255f07711366ac2a9da8de7e66b9e53ee&quot;</span><span class="p">,</span>
      <span class="s2">&quot;txRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;TBSNvFDt3tGDhI5I48IRlBh2l+O0X+kjBq7/96Zk/wI=&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-trust-assetid-verify">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/trust/assetId/verify</span></code><a class="headerlink" href="#post-trust-assetid-verify" title="Permalink to this headline">¶</a></h4>
<p>Verifies a trust point</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assetid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Identifier of the asset for which the trust point is made</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Timestamp at which this trust point is made</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;1559822594&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ethereum</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code> Ethereum info</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trustRoot</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Trust points merkle root registered on Ethereum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lastEthTxId</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Last transaction for the trust point in Ethereum</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smartContractAddres</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> The smart contract in Ethereum to manage trust points</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verified</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;bool&gt;</span></code> Boolean value to specify if the trust point is registered in Ethereum</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hf</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code> Hyperledger Fabric info</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trustRoot</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Trust points merkle root stored in HF</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Timestamp at which this trust point is made</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">verified</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;bool&gt;</span></code> Boolean value to specify if the trust point is registered in Ethereum and it is has not been modified</p></li>
</ul>
</li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ethereum&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;lastEthTxId&quot;</span><span class="o">:</span> <span class="s2">&quot;0x8ad8f928c261a5b7f2b6515320dfffe1f9f923b17c5e07f6f733f43703f95f87&quot;</span><span class="p">,</span>
      <span class="s2">&quot;smartContractAddres&quot;</span><span class="o">:</span> <span class="s2">&quot;0x1B646bc6C3465Fa8171F7171097A7d8e37b43D6B&quot;</span><span class="p">,</span>
      <span class="s2">&quot;trustHash&quot;</span><span class="o">:</span> <span class="s2">&quot;NGz693K+cqYasFNbcfhEr+Ziy/Y/jsfOt0FNKcqYa5E=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;trustRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;/unY4B8YDNq/+mdO1iL/Ztng+gbxBput2qnjG+LGMqU=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;verified&quot;</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="s2">&quot;hf&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
      <span class="s2">&quot;trustHash&quot;</span><span class="o">:</span> <span class="s2">&quot;NGz693K+cqYasFNbcfhEr+Ziy/Y/jsfOt0FNKcqYa5E=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;trustRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;/unY4B8YDNq/+mdO1iL/Ztng+gbxBput2qnjG+LGMqU=&quot;</span><span class="p">,</span>
      <span class="s2">&quot;verified&quot;</span><span class="o">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
</details></div>
</div>
<div class="section" id="merkleroot">
<h3>MerkleRoot<a class="headerlink" href="#merkleroot" title="Permalink to this headline">¶</a></h3>
<p>In order to achieve the integrity and inmutability of all trust points, every time a trust point is create a parallel process is executed. This process consist of the building of a trust-based merkle tree. All the trust points created until that moment are the leaves of the tree that generates a unique merkle root. That merkle root, called as trustRoot, is registered in HF as well as in Ethereum to proof the integrity. So, every time a new trust point is created, a new trustRoot is created too, and it could be registered in Ethereum or not, depends of the user neccessity</p>
<p>This is the structure registered in HF and Ethereum, once the trust merkle tree is calculated:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> Timestamp at which the related trust point is made</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trustHash</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Hash of the last trust point included to verify integrity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trustRoot</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Root of the trust merkle tree calculated with all the trust points until that moment</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1567601354</span><span class="p">,</span>
    <span class="s2">&quot;trustHash&quot;</span><span class="o">:</span> <span class="s2">&quot;7KYLJXcjGA67WD0v95UvoVPk+sj9M8FdpecS5mRz3+s=&quot;</span><span class="p">,</span>
    <span class="s2">&quot;trustRoot&quot;</span><span class="o">:</span> <span class="s2">&quot;/unY4B8YDNq/+mdO1iL/Ztng+gbxBput2qnjG+LGMqU=&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
</div>
<div class="section" id="architecture-of-the-project">
<h2>Architecture of the project<a class="headerlink" href="#architecture-of-the-project" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>coren-trackapi
├── api
      ├── handler           // HTTP logic
      ├── model             // models used by the application
      ├── service           // Usecases logic
      ├── util              // Tools used by the application
          ├── log           // Logger tool
          ├── http          // Http util
          └── Config        // Tool to load the configuration from yaml files
      └── app.go            // Router application
├── config
      └── config.yaml       // Config file
├── docs
      └── docs.go           // Swagger doc file
├── postman                 // Postman collection and environment to test the API
      ├── collection    
      └── environment
├── docker-compose.yaml     // Instructions to build docker container
├── Dockerfile              // Instructions to build docker image
├── init.sh                 // Script with global environment variables
└── main.go                 // Main app
</pre></div>
</div>
</div>
<div class="section" id="project-configuration">
<h2>Project configuration<a class="headerlink" href="#project-configuration" title="Permalink to this headline">¶</a></h2>
<p>This project has too bee stored in the following route:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$GOPATH/src/github.com/name_of_the_project
</pre></div>
</div>
</div>
<div class="section" id="running-the-application">
<h2>Running the Application<a class="headerlink" href="#running-the-application" title="Permalink to this headline">¶</a></h2>
<p>To initialize the application execute the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">./</span><span class="n">init</span><span class="o">.</span><span class="n">sh</span>
<span class="n">go</span> <span class="n">run</span> <span class="n">main</span><span class="o">.</span><span class="n">go</span>
</pre></div>
</div>
<p>Also the application can be executed with docker:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span>
</pre></div>
</div>
</div>
<div class="section" id="testing-the-application">
<h2>Testing the Application<a class="headerlink" href="#testing-the-application" title="Permalink to this headline">¶</a></h2>
<p>In postman folder there are the collection and environment to interact and test with the API methods. It is only needed to import them into postman application and know to use the coren-trackapi module</p>
</div>
<div class="section" id="errors-management">
<h2>Errors management<a class="headerlink" href="#errors-management" title="Permalink to this headline">¶</a></h2>
<p>Track API errors are managed through the following nomenclature <strong>TRACK-XX</strong> which corresponds to:<br></p>
<p>| Code 	| Description 	|
|:—–:	|———————————————————————–	|
| TRACK-00 	| Service is down 	|
| TRACK-01 	| Error parsing any data structure 	|
| TRACK-02 	| Error of some kind of functionality 	|</p>
</div>
</div>
<div class="section" id="token">
<h1>Token<a class="headerlink" href="#token" title="Permalink to this headline">¶</a></h1>
<p>This API allows developers to easily create transferable tokens on the Hyperledger Fabric network.</p>
<div class="section" id="id1">
<h2>API Specification<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>An abstraction API with all the token functionalities.</p>
<div class="section" id="id2">
<h3>Token<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The term is a little bit confusing at first, since a token can represent the whole class, in which the total supply is declarated, or individual tokens (balances) transferable between users.</p>
<p>Every token has the following structure:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the generic token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">symbol</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Shortname for the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">owner</span></code> :  <code class="docutils literal notranslate"><span class="pre">id&lt;string&gt;:company&lt;string&gt;</span></code>  Owner of the token. It has to be specified the ID of the owner and the ID of the organization it belongs to inside the organization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereumAddress</span></code>: <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Address in the Ethereum blockchain, in case we want to link it to a public blockchain token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">totalSupply</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> Total number of individual tokens issued</p></li>
</ul>
<details>  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Test&quot;</span><span class="p">,</span>
      <span class="s2">&quot;symbol&quot;</span><span class="o">:</span> <span class="s2">&quot;Tst&quot;</span><span class="p">,</span>
      <span class="s2">&quot;owner&quot;</span><span class="o">:</span> <span class="s2">&quot;bteam:org1MSP&quot;</span><span class="p">,</span>
      <span class="s2">&quot;ethereumAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x320492ua90suf9a0weuf903&quot;</span><span class="p">,</span>
      <span class="s2">&quot;totalSupply&quot;</span><span class="o">:</span> <span class="mi">99999999999999</span>
<span class="p">}</span>
</pre></div>
</div>
</details><details>
  <summary><em><strong>Token methods</strong></em> (Click to expand)</summary>
---<div class="section" id="post-token-create">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/create/</span></code><a class="headerlink" href="#post-token-create" title="Permalink to this headline">¶</a></h4>
<p>Creates a new generic token based on a chaincode</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>    Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">symbol</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Shortname of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">owner</span></code> :  <code class="docutils literal notranslate"><span class="pre">identifier&lt;string&gt;:company&lt;string&gt;</span></code>   Owner of the token contract</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ethereumAddress</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> This address represents the contract in Ethereum associated to the token. At the moment is given as an input, but in future releases it will be created by the chaincode and given to the developer as a response</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">totalSupply</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code>  Total amount of individual tokens that will be created</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Test&quot;</span><span class="p">,</span>
  <span class="s2">&quot;symbol&quot;</span><span class="o">:</span> <span class="s2">&quot;Tst&quot;</span><span class="p">,</span>
  <span class="s2">&quot;owner&quot;</span><span class="o">:</span> <span class="s2">&quot;bteam:org1MSP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ethereumAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;totalSupply&quot;</span><span class="o">:</span> <span class="mi">99999999999999</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Chaincode instantiated succesfully&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-token-tokenid">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}</span></code><a class="headerlink" href="#get-token-tokenid" title="Permalink to this headline">¶</a></h4>
<p>Gets all the token info</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">token</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;symbol&quot;</span><span class="o">:</span> <span class="s2">&quot;Tst&quot;</span><span class="p">,</span>
    <span class="s2">&quot;owner&quot;</span><span class="o">:</span> <span class="s2">&quot;bteam:org1MSP&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ethereumAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;totalSupply&quot;</span><span class="o">:</span> <span class="mi">99999999999999</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-token-tokenid-allowance-owner-spender">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/allowance/{owner}/{spender}</span></code><a class="headerlink" href="#get-token-tokenid-allowance-owner-spender" title="Permalink to this headline">¶</a></h4>
<p>This call tells if some specific spender is allowed by some owner to performs actions over the token.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ownerId</span></code>   :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Owner of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spenderId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Person from whom we want to know how much he is allowed to spend</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">allowed</span></code>  : <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> Quantity of tokens he is allowed to spend</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;allowed&quot;</span><span class="o">:</span> <span class="mi">230</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-token-tokenid-approve">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/approve</span></code><a class="headerlink" href="#post-token-tokenid-approve" title="Permalink to this headline">¶</a></h4>
<p>Approve a different spender for a amount of token you own</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spender</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> Name of the spender user</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>   :  <code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code>    Amount that is allowed to spend</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;spender&quot;</span><span class="o">:</span> <span class="s2">&quot;Satoshi:org1MSP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;20&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Message of the approve transaction</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;eaff9d6d289ca1894cffb4bbx0e540de4f58f69eb067a23efba2b7581c77e398&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Approve 230 from test:org1MSP to Satoshi:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-token-tokenid-balance-userid">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/balance/{userID}</span></code><a class="headerlink" href="#get-token-tokenid-balance-userid" title="Permalink to this headline">¶</a></h4>
<p>Gets the token balance of a user</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">userId</span></code>  :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the user</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">balance</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code>  User’s balance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">blocked_balance</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code>  User’s blocked balance</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;balance&quot;</span><span class="o">:</span> <span class="mi">950</span><span class="p">,</span>
    <span class="s2">&quot;blocked_balance&quot;</span><span class="o">:</span> <span class="mi">50</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-token-tokenid-transactions">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transactions</span></code><a class="headerlink" href="#get-token-tokenid-transactions" title="Permalink to this headline">¶</a></h4>
<p>Get the token transaction history</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the token</p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code>  List of transactions of the token</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;eaff9d6d289ca4894cffb4bbb0e540de4f58f69eb067a23efba2b7581c77e398&quot;</span><span class="p">,</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Approve 20 from test:org1MSP to Satoshi:org1MSP&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;5aa6239bb3c45647ab4ffa52759fc1fc981c28f8beb0724765b0c4505fca5a13&quot;</span><span class="p">,</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Transfer 40 from test:org1MSP to Bob:org1MSP&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;bb7f630b44a42b67abd437d4d9afb0b515fcd4b5794dd8cd6e3bf4f3510c5146&quot;</span><span class="p">,</span>
      <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Transfer 40 from test:org1MSP to Alice:org1MSP&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-token-tokenid-transfer">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transfer</span></code><a class="headerlink" href="#post-token-tokenid-transfer" title="Permalink to this headline">¶</a></h4>
<p>Transfers individual tokens (balances of a token class)</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to</span></code>      :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Destination user</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>   :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Balance to transfer</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;Alice:org1MSP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;40&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Message of the approve transaction</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;bb7f630b44a42b67abd437d4d9afb0b515fcd4b5794dd8cd6e3bf4f3510c5146&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Transfer 40 from test:org1MSP to Alice:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-token-tokenid-transferfrom">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferfrom</span></code><a class="headerlink" href="#post-token-tokenid-transferfrom" title="Permalink to this headline">¶</a></h4>
<p>Transfer / withdraw from a user. The user has to be approved to spend individual tokens</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Person who approves to spend. He has to have a positive balance</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to</span></code>   :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Destination user of the funds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>:  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Amount of tokens</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;from&quot;</span><span class="o">:</span> <span class="s2">&quot;bteam:org1MSP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;satoshi:org1MSP&quot;</span><span class="p">,</span>
  <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;20&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Message of the approve transaction</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;7876322dbfe61fd2c293f63fd148875d36b3d4fbcec6635d55351bfab2e9e713&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;TransferFrom 20 from bteam:org1MSP to satoshi:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-token-tokenid-transferownership">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferownership</span></code><a class="headerlink" href="#post-token-tokenid-transferownership" title="Permalink to this headline">¶</a></h4>
<p>Transfer the ownership of a generic token</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to</span></code>      :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  New owner</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;to&quot;</span><span class="o">:</span> <span class="s2">&quot;Bob:org1MSP&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">token</span></code>  :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code>  Token with updated parameters</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ethereumAddress&quot;</span><span class="o">:</span> <span class="s2">&quot;0x0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;owner&quot;</span><span class="o">:</span> <span class="s2">&quot;Bob:org1MSP&quot;</span><span class="p">,</span>
    <span class="s2">&quot;symbol&quot;</span><span class="o">:</span> <span class="s2">&quot;Tst&quot;</span><span class="p">,</span>
    <span class="s2">&quot;totalSupply&quot;</span><span class="o">:</span> <span class="mi">99999999999999</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-token-tokenid-transferblock">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferblock</span></code><a class="headerlink" href="#post-token-tokenid-transferblock" title="Permalink to this headline">¶</a></h4>
<p>Transfer individual tokens as a blocked balance for a user</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to</span></code>      :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Destination user of the blocked funds</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>   :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Amount of tokens to be blocked</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
	<span class="s2">&quot;to&quot;</span><span class="o">:</span><span class="s2">&quot;bteam:org1MSP&quot;</span><span class="p">,</span>
	<span class="s2">&quot;value&quot;</span><span class="o">:</span><span class="s2">&quot;50&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">blocked_id</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Message of the approve transaction</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;blocked_id&quot;</span><span class="o">:</span> <span class="s2">&quot;7c76500379b86967c04490baa1d25ecc52adfc9df9340d561805b548d8c87e72&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;7c76500379b86967c04490baa1d25ecc52adfc9df9340d561805b548d8c87e72&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Blocking transfer 50 from test:org1MSP to bteam:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-token-tokenid-transferunblock">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/token/{tokenId}/transferunblock</span></code><a class="headerlink" href="#post-token-tokenid-transferunblock" title="Permalink to this headline">¶</a></h4>
<p>Unblocks a blocked transfer being true equivalent to accept the blocked balance and false equivalent to returning the blocked balance to origin user</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tokenId</span></code>     :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Name of the token</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">blocked_id</span></code>  :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the blocked transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">accept</span></code>      :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Flag to determine the acceptance or not of the transaction</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;blocked_id&quot;</span><span class="o">:</span> <span class="s2">&quot;b1cdd2e5df1d7565edb2c54ee39c0ab9931ea647d04627062cb52500ee82c0af&quot;</span><span class="p">,</span>
  <span class="s2">&quot;accept&quot;</span><span class="o">:</span> <span class="s2">&quot;true&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Id of the transaction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>  Message of the approve transaction</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;e309a55be8b1c842c3aaf475bb7b7b2b759101b09f622fbb5f8dc56aab3d3795&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;Accepting blocked transaction b1cdd2e5df0d7565bdb2c54ee39c0ab9931ea647d04627062cb52500ee82c0af from test:org1MSP and token amount goes to test:org1MSP&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></details></div>
</div>
</div>
<div class="section" id="id3">
<h2>Architecture of the project<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>coren-tokenapi
├── api
      ├── handler           // HTTP logic
      ├── model             // models used by the application
      ├── service           // Usecases logic
      ├── util              // Tools used by the application
          ├── log           // Logger tool
          ├── http          // Http util
          └── Config        // Tool to load the configuration from yaml files
      └── app.go            // Router application
├── config
      └── config.yaml       // Config file
├── docs
      └── docs.go           // Swagger doc file
├── postman                 // Postman collection and environment to test the API
      ├── collection    
      └── environment
├── docker-compose.yaml     // Instructions to build docker container
├── Dockerfile              // Instructions to build docker image
├── init.sh                 // Script with global environment variables
└── main.go                 // Main app
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2>Project configuration<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>This project has too bee stored in the following route:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$GOPATH/src/github.com/name_of_the_project
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2>Running the Application<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>To initialize the application execute the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">./</span><span class="n">init</span><span class="o">.</span><span class="n">sh</span>
<span class="n">go</span> <span class="n">run</span> <span class="n">main</span><span class="o">.</span><span class="n">go</span>
</pre></div>
</div>
<p>Also the application can be executed with docker:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h2>Testing the Application<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>In postman folder there are the collection and environment to interact and test with the API methods. It is only needed to import them into postman application and know to use the coren-tokenapi module</p>
</div>
<div class="section" id="id7">
<h2>Errors management<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Token API errors are managed through the following nomenclature <strong>TOKEN-XX</strong> which corresponds to:<br></p>
<p>| Code 	| Description 	|
|:—–:	|———————————————————————–	|
| TOKEN-00 	| Service is down 	|
| TOKEN-01 	| Error parsing any data structure 	|
| TOKEN-02 	| Error of some kind of functionality 	|</p>
</div>
</div>
<div class="section" id="settle">
<h1>Settle<a class="headerlink" href="#settle" title="Permalink to this headline">¶</a></h1>
<p>This API generates a general structure to perform the settlement of records. The API allows
the settlement of a great gamut of record structures, aggregations and settlement operations.
Currently two <code class="docutils literal notranslate"><span class="pre">aggregation</span></code> and <code class="docutils literal notranslate"><span class="pre">settlement</span></code> operations are implemented, but further
settlement and aggregation operations will be implemented in future versions. You can contact
our development team through the Issues to ask for new settlement and aggregation operations
to fit your use case.</p>
<div class="section" id="id8">
<h2>API Specification<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>An abstraction API with all the settlement functionalities.</p>
<div class="section" id="id9">
<h3>Settle<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>A settlement structure has the following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>    - Unique identifier of the settlement structure</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregates</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string</span> <span class="pre">&gt;</span></code>  - Variables used as input for the aggregation operation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">primaryKey</span></code>    : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> - Primary key used to aggregate metrics, build the common record and make the settlement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregationType</span> <span class="pre">[1CDR</span> <span class="pre">/</span> <span class="pre">mcCounter]</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string</span> <span class="pre">&gt;</span></code> - Aggregation operation. This operation is triggered every time a new record is updated to the system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">settlementType</span> <span class="pre">[1CDR</span> <span class="pre">/</span> <span class="pre">none]</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> - Settlement operation. It is triggered whenever a settlement operation is requested. It takes
the status of the common record and generates a settled structure. The aggregation variables are cleared for a new round of settlement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">record</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> - Sample record used to define the structure of records in the settlement structure. Also used as the
main variable used to upload records.</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;settle&quot;</span><span class="p">,</span>
  <span class="s2">&quot;aggregates&quot;</span><span class="o">:</span> <span class="s2">&quot;[&#39;msg&#39;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
  <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
  <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
  <span class="s2">&quot;record&quot;</span><span class="o">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
</details><details>
  <summary><em><strong>Settlement methods</strong></em> (Click to expand)</summary><hr class="docutils" />
<div class="section" id="post-settlement-create">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/settlement/create/</span></code><a class="headerlink" href="#post-settlement-create" title="Permalink to this headline">¶</a></h4>
<p>Creates a new settlement structure.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleid</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>    - Unique identifier of the settlement structure</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregates</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string</span> <span class="pre">&gt;</span></code>  - Variables used as input for the aggregation operation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">primaryKey</span></code>    : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> - Primary key used to aggregate metrics, build the common record and make the settlement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aggregationType</span> <span class="pre">[1CDR</span> <span class="pre">/</span> <span class="pre">mcCounter]</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string</span> <span class="pre">&gt;</span></code> - Aggregation operation. This operation is triggered every time a new record is updated to the system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">settlementType</span> <span class="pre">[1CDR</span> <span class="pre">/</span> <span class="pre">none]</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> - Settlement operation. It is triggered whenever a settlement operation is requested. It takes
the status of the common record and generates a settled structure. The aggregation variables are cleared for a new round of settlement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">record</span></code> : <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code> - Sample record used to define the structure of records in the settlement structure. Also used as the
main variable used to upload records.</p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;record&quot;</span><span class="o">:</span> <span class="p">{</span>
   <span class="s2">&quot;app&quot;</span><span class="o">:</span>  <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="p">,</span>
   <span class="s2">&quot;op&quot;</span><span class="o">:</span>  <span class="s2">&quot;CREATE&quot;</span><span class="p">,</span>
   <span class="s2">&quot;corr&quot;</span><span class="o">:</span>  <span class="s2">&quot;AUS-b8727fc3-dfc1-4c37-b6d6-d6897ed10ddd&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;aggregates&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;op&quot;</span><span class="p">],</span>
  <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
  <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
  <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
  <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span>
 <span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;aggregationMetrics&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">&quot;op&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastSettlement&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
    <span class="s2">&quot;lastUpdate&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="s2">&quot;Create&quot;</span><span class="p">,</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
    <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-settlement-settleid">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}</span></code><a class="headerlink" href="#get-settlement-settleid" title="Permalink to this headline">¶</a></h4>
<p>Gets the current status of a settlement structure. It shows the current
status of aggregates.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newSettlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;aggregates&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;aggregationMetrics&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;op&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lastSettlement&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
        <span class="s2">&quot;lastUpdate&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="s2">&quot;Update&quot;</span><span class="p">,</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565172892</span><span class="p">,</span>
            <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
        <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-settlement-settleid-history">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/history</span></code><a class="headerlink" href="#get-settlement-settleid-history" title="Permalink to this headline">¶</a></h4>
<p>Gets the history of changes over a settlement structure according to updated records.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newSettlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;aggregates&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="o">:</span> <span class="p">{</span>
                    <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="o">:</span> <span class="p">{</span>
                    <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s2">&quot;aggregationMetrics&quot;</span><span class="o">:</span> <span class="p">[</span>
                <span class="s2">&quot;op&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lastSettlement&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
            <span class="s2">&quot;lastUpdate&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="s2">&quot;Update&quot;</span><span class="p">,</span>
                <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565172892</span><span class="p">,</span>
                <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
            <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
            <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;aggregationMetrics&quot;</span><span class="o">:</span> <span class="p">[</span>
                <span class="s2">&quot;op&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lastSettlement&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
            <span class="s2">&quot;lastUpdate&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="s2">&quot;Create&quot;</span><span class="p">,</span>
                <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
                <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
            <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
            <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="get-settlement-settleid-settled">
<h4>GET   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/settled</span></code><a class="headerlink" href="#get-settlement-settleid-settled" title="Permalink to this headline">¶</a></h4>
<p>Gets all settlements performed over a specific settleId.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newSettlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;aggregates&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565186196</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-settlement-settleid-update">
<h4>POST   -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/update</span></code><a class="headerlink" href="#post-settlement-settleid-update" title="Permalink to this headline">¶</a></h4>
<p>It uploads a new record to a settlement structure updating
the status of aggregates according to the <code class="docutils literal notranslate"><span class="pre">aggregationType</span></code> defined
for the settling structure.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settlementObject</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;record&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;app&quot;</span><span class="o">:</span>  <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;op&quot;</span><span class="o">:</span>  <span class="s2">&quot;CREATE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;corr&quot;</span><span class="o">:</span>  <span class="s2">&quot;AUS-b8727fc3-dfc1-4c37-b6d6-d6897ed10ddd&quot;</span>
        <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;app&quot;</span><span class="o">:</span>  <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="p">,</span>
        <span class="s2">&quot;op&quot;</span><span class="o">:</span>  <span class="s2">&quot;CREATE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;corr&quot;</span><span class="o">:</span>  <span class="s2">&quot;AUS-b8727fc3-dfc1-4c37-b6d6-d6897ed10ddd&quot;</span>
        <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;app&quot;</span><span class="o">:</span>  <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="p">,</span>
        <span class="s2">&quot;op&quot;</span><span class="o">:</span>  <span class="s2">&quot;DELETE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;corr&quot;</span><span class="o">:</span>  <span class="s2">&quot;AUS-b8727fc3-dfc1-4c37-b6d6-d6897ed10ddd&quot;</span>
        <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details><p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newSettlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;aggregates&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;aggregationMetrics&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">&quot;op&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lastSettlement&quot;</span><span class="o">:</span> <span class="mi">1565172714</span><span class="p">,</span>
    <span class="s2">&quot;lastUpdate&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="s2">&quot;Update&quot;</span><span class="p">,</span>
      <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565172892</span><span class="p">,</span>
      <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
    <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-settlement-settleid-settle">
<h4>POST  -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/settle</span></code><a class="headerlink" href="#post-settlement-settleid-settle" title="Permalink to this headline">¶</a></h4>
<p>Settles a given settlement structure. It aggregates according to the
current status of aggregates and the <code class="docutils literal notranslate"><span class="pre">aggregationType</span></code> defined for the settlement
structure.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newSettlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;2344240e1f7-d287-46a9-8b92-f1232342431&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;4240e1f7-d287-46a9-8b92-f112510bd9f7&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;op&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details></div>
<hr class="docutils" />
<div class="section" id="post-settlement-settleid-clear">
<h4>POST  -   <code class="docutils literal notranslate"><span class="pre">/settlement/{settleId}/clear</span></code><a class="headerlink" href="#post-settlement-settleid-clear" title="Permalink to this headline">¶</a></h4>
<p>Clears a settlement structure. It removes the current status of the aggregates.
This may be used when unconsistent updates have been performed or errors have
been detected in the updating of records.</p>
<p><em>Input</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">settleId</span></code> :  <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code></p></li>
</ul>
<p><em>Output</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newSettlementObject</span></code>    :  <code class="docutils literal notranslate"><span class="pre">&lt;json&gt;</span></code></p></li>
</ul>
<details>
  <summary><em><strong>Sample structure</strong></em> (Click to expand)</summary><div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;output&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;aggregationMetrics&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="s2">&quot;op&quot;</span>
        <span class="p">],</span>
        <span class="s2">&quot;aggregationType&quot;</span><span class="o">:</span> <span class="s2">&quot;mcCounter&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lastSettlement&quot;</span><span class="o">:</span> <span class="mi">1565186196</span><span class="p">,</span>
        <span class="s2">&quot;lastUpdate&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;operation&quot;</span><span class="o">:</span> <span class="s2">&quot;Clear&quot;</span><span class="p">,</span>
            <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="mi">1565186640</span><span class="p">,</span>
            <span class="s2">&quot;user&quot;</span><span class="o">:</span> <span class="s2">&quot;test:org1MSP&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;primaryKey&quot;</span><span class="o">:</span> <span class="s2">&quot;app&quot;</span><span class="p">,</span>
        <span class="s2">&quot;settleid&quot;</span><span class="o">:</span> <span class="s2">&quot;testing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;settlementType&quot;</span><span class="o">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</details>
</details></div>
</div>
</div>
<div class="section" id="id10">
<h2>Architecture of the project<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>coren-tokenapi
├── api
      ├── handler           // HTTP logic
      ├── model             // models used by the application
      ├── service           // Usecases logic
      ├── util              // Tools used by the application
          ├── log           // Logger tool
          ├── http          // Http util
          └── Config        // Tool to load the configuration from yaml files
      └── app.go            // Router application
├── config
      └── config.yaml       // Config file
├── docs
      └── docs.go           // Swagger doc file
├── postman                 // Postman collection and environment to test the API
      ├── collection    
      └── environment
├── vendor                  // Package discovery folder
├── docker-compose.yaml     // Instructions to build docker container
├── Dockerfile              // Instructions to build docker image
├── init.sh                 // Script with global environment variables
└── main.go                 // Main app
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h2>Project configuration<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>This project has too bee stored in the following route:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$GOPATH/src/github.com/name_of_the_project
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h2>Running the Application<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p>To initialize the application execute the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">./</span><span class="n">init</span><span class="o">.</span><span class="n">sh</span>
<span class="n">go</span> <span class="n">run</span> <span class="n">main</span><span class="o">.</span><span class="n">go</span>
</pre></div>
</div>
<p>Also the application can be executed with docker:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span> <span class="o">-</span><span class="n">d</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h2>Testing the Application<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>In postman folder there are the collection and environment to interact and test with the API methods. It is only needed to import them into postman application and know to use the coren-settleapi module</p>
</div>
<div class="section" id="id14">
<h2>Errors management<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>Settle API errors are managed through the following nomenclature <strong>SETTLE-XX</strong> which corresponds to:<br></p>
<p>| Code 	| Description 	|
|:—–:	|———————————————————————–	|
| SETTLE-00 	| Service is down 	|
| SETTLE-01 	| Error parsing any data structure 	|
| SETTLE-02 	| Error of some kind of functionality 	|</p>
</div>
</div>
<div class="section" id="id">
<h1>ID<a class="headerlink" href="#id" title="Permalink to this headline">¶</a></h1>
<p>This API manages all about identity in the TRUST OS.</p>
<p><strong>NOTE: This is a work in progress, more about this in future releases.</strong></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="track.html" class="btn btn-neutral float-right" title="Track" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting_started.html" class="btn btn-neutral" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <!-- <div role="contentinfo">
    <p>
        &copy; Copyright Telefónica 2020.

    </p>
  </div> -->
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>